.\"
.\" Copyright (C) 1994-2020 Altair Engineering, Inc.
.\" For more information, contact Altair at www.altair.com.
.\"
.\" This file is part of both the OpenPBS software ("OpenPBS")
.\" and the PBS Professional ("PBS Pro") software.
.\"
.\" Open Source License Information:
.\"
.\" OpenPBS is free software. You can redistribute it and/or modify it under
.\" the terms of the GNU Affero General Public License as published by the
.\" Free Software Foundation, either version 3 of the License, or (at your
.\" option) any later version.
.\"
.\" OpenPBS is distributed in the hope that it will be useful, but WITHOUT
.\" ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
.\" FITNESS FOR A PARTICULAR PURPOSE.  See the GNU Affero General Public
.\" License for more details.
.\"
.\" You should have received a copy of the GNU Affero General Public License
.\" along with this program.  If not, see <http://www.gnu.org/licenses/>.
.\"
.\" Commercial License Information:
.\"
.\" PBS Pro is commercially licensed software that shares a common core with
.\" the OpenPBS software.  For a copy of the commercial license terms and
.\" conditions, go to: (http://www.pbspro.com/agreement.html) or contact the
.\" Altair Legal Department.
.\"
.\" Altair's dual-license business model allows companies, individuals, and
.\" organizations to create proprietary derivative works of OpenPBS and
.\" distribute them - whether embedded or bundled with other software -
.\" under a commercial license agreement.
.\"
.\" Use of Altair's trademarks, including but not limited to "PBS™",
.\" "OpenPBS®", "PBS Professional®", and "PBS Pro™" and Altair's logos is
.\" subject to Altair's trademark licensing policies.
.\"

.TH qstat 1B "2 July 2019" Local "PBS"
.SH NAME
.B qstat
- display status of PBS jobs, queues, or servers


.SH SYNOPSIS
.RE
.B Displaying Job Status
.RS 7
Default format:
.br
.B qstat
[-E] [-J] [-p] [-t] [-w] [-x] [[<job ID> | <destination>] ...]

.sp
Long format:
.br
.B qstat
-f [-F json | dsv [-D <delimiter>]] [-E] [-J] [-p]
[-t] [-w]
.RS 6
[-x] [[<job ID> | <destination>] ...]
.RE
.sp
Alternate format:
.br
.B qstat
[-a | -H | -i | -r ] [-E] [-G | -M] [-J] [-n [-1]]
.RS 6
[-s [-1]] [-t] [-T] [-u <user list>] [-w]
.br
[[<job ID> | <destination>] ...]
.RE
Custom formats:
.br
.B qstat
-e [-a | -i | -r] [-n] [-s] [-1] [-G | -M] [-u <user_list>] [-x]
.RS 6
[-W option]
.RE
.RE

.B Displaying Queue Status
.RS 7
Default format:
.br
.B qstat
-Q [<destination> ...]
.sp
Long format:
.br
.B qstat
-Q -f [-F json | dsv [-D <delimiter>]] [-w] [<destination> ...]
.sp
Alternate format:
.br
.B qstat
-q [-G | -M] [<destination> ...]
.RE

.B Displaying Server Status
.RS 7
Default format:
.br
.B qstat
-B [<server> ...]
.sp
Long format:
.br
.B qstat
-B -f [-F json | dsv [-D <delimiter>]] [-w] [<server> ...]

.B Version Information
.br
.B qstat
--version

.SH DESCRIPTION
The
.B qstat
command displays the status of jobs, queues, or servers, writing
the status information to standard output.
.LP
When displaying job status information, the
.B qstat
command displays status information about all specified jobs, job
arrays, and subjobs.  You can specify jobs by ID, or by destination,
for example all jobs at a specified queue or server.

.B Display Formats
.br
You can use particular options to display status information in a
default format, an alternate format, a long format, or a custom format.  Default and
alternate formats display all status information for a job, queue, or
server with one line per object, in columns.  Long formats display
status information showing all attributes, one attribute to a line.
.br
Display for custom formats is up to the site and user.
(Note: At NAS, the default format is the custom format, not the format
called "default" here.)

.B Displaying Information for Finished and Moved Jobs
.br
You can display status information for finished and moved jobs by
using the
.I -x
and
.I -H
options.

If your job has been moved to another server through peer scheduling,
give the job ID as an argument to
.B qstat.
If you do not specify the job ID, your job will not appear to exist.
For example, your job 123.ServerA is moved to ServerB.  In this case, you can use
.br
.B \ \ \ qstat 123
.br
or
.br
.B \ \ \ qstat 123.ServerA

Specifying the full job name, including the server, avoids the possibility
that
.B qstat
will report on a job named 123.ServerB that was moved to ServerA.

To list all jobs at ServerB, you can use:
.br
.B \ \ \ qstat @ServerB

.B Displaying Truncated Data
.br
When the number of characters required would exceed the space
available, qstat truncates the output and puts an asterisk ("*") in
the last position.  For example, in default job display format, there
are three characters allowed for the number of cores.  If the actual
output were
.I 1234
, the value displayed would be
.I 12*
instead.

.B Required Privilege
.br
Users without Manager or Operator privilege cannot view
resources or attributes that are invisible to unprivileged users.

.SH DISPLAYING JOB STATUS
.B Job Status in Default Format
.br
Triggers: no options, or any of the
.I -J, -p, -t,
or
.I -x
options.

The
.B qstat
command displays job status in default format when you specify no
options, or any of the
.I -J, -p, -t,
or
.I -x,
options.
Jobs are displayed one to a line, with these column headers:
.RE
.nf

Job ID   Name       User      Time Use S Queue
-------- ---------- --------- -------- - -----

Description of columns:

Column    Width                Width    Description
Name      without -w           with -w
-------------------------------------------------------------------------------

Job ID    17 (22 when          30       Job ID assigned by PBS
          max_job_sequence_id
          > 10 million)

Name      16                   15       Job name specified by submitter

User      16                   15       Username of job owner

Time Use  8                    8        The CPU time used by the job.  Before
or                                      the application has actually started
Percent                                 running, for example during stage-in,
Complete                                this field is "0". At the point where
                                        the application starts accumulating
                                        cput, this field changes to "00:00:00".
                                        After that, every time the MoM polls
                                        for resource usage, the field is
                                        updated.

                                        The MoM on each execution host polls
                                        for the usage of all processes on her
                                        host belonging to the job.  Usage is
                                        summed.  The polling interval is short
                                        when a job first starts running and
                                        lengthens to a maximum of 2 minutes.

                                        If you specify -p, the Time Use column
                                        is replaced with the percentage
                                        completed for the job.  For a job array
                                        this is the percentage of subjobs
                                        completed.  For a normal job, it is the
                                        percentage of allocated CPU time used.

S         1                    1        The job's state:
                                          B  Array job has at least one subjob
                                             running
                                          E  Job is exiting after having run
                                          F  Job is finished
                                          H  Job is held
                                          M  Job was moved to another server
                                          Q  Job is queued
                                          R  Job is running
                                          S  Job is suspended
                                          T  Job is being moved to new location
                                          U  Cycle-harvesting job is suspended
                                             due to keyboard activity
                                          W  Job is waiting for its submitter-
                                             assigned start time to be reached
                                          X  Subjob has completed execution or
                                             has been deleted

Queue     16                   15       The queue in which the job resides
.fi
.RS 10
.LP

.B Job Status in Long Format
.br
Trigger: the
.I -f
option.
.br
If you specify the
.I -f
(full) option, full job status information for each job is displayed
in this order:
.RS 5
The job ID
.br
Each job attribute, one to a line
.br
The job's submission arguments
.br
The job's executable, in JSDL format
.br
The executable's argument list, in JSDL format
.RE

The job attributes are listed
as
.I <name> = <value>
pairs. This includes the
.I exec_host
and
.I exec_vnode
strings.
The full output can be very large.
.sp

The
.I exec_host
string has the format:
.br
.I <host1>/<T1>*<P1>[+<host2>/<T2>*<P2>+...]
.br
where
.br
.I T1
is the task slot number (the index) of the job on hostA.
.br
.I P1
is the number of processors allocated to the job from host1.  The
number of processors allocated does not appear if it is 1.

The
.I exec_vnode
string has the format:
.br
.I (<vnode1>:ncpus=<N1>:mem=<M1>)[+(<vnode2>:ncpus=<N2>:mem=<M2>)+...]
.br
where
.br
N1 is the number of CPUs allocated to that job on vnode1.
.br
M1 is the amount of memory allocated to that job on vnode1.

.B Job Status in Alternate Format
.br
Triggers: any of the
.I -a, -i, -G, -H, -M, -n, -r, -s, -T,
or
.I -u <user list>
options.
.br
The
.B qstat
command displays job status in the alternate format if you specify any of the
.I -a, -i, -G, -H, -M, -n, -r, -s, -T,
or
.I -u <user list>
options.
Jobs are displayed one to a line.  If jobs are running and the -n
option is specified, or if jobs are finished or moved and the -H and
-n options are specified, there is a second line for the
.I exec_host
string.
.RE
.nf

Column headers:

                                             Req'd  Req'd   Elap
Job ID Username Queue Jobname SessID NDS TSK Memory Time  S Time
------ -------- ----- ------- ------ --- --- ------ ----- - ----

Description of columns:

Column    Width                Width    Description
Name      without -w           with -w
--------------------------------------------------------------------------------

Job ID    15 (20 when          30       The job ID assigned by PBS
          max_job_sequence_id
          > 10 million)

Username  8                    15       Username of job owner

Queue     8                    15       Queue in which the job resides

Jobname   10                   15       Job name specified by submitter

SessID    6                    8        Session ID.  Appears only if the job
                                        is running.

NDS       3                    4        Number of chunks or vnodes requested
                                        by the job

TSK       3                    5        Number of CPUs requested by the job

Req'd     6                    6        Amount of memory requested by the job
Memory

Req'd     5                    5        If CPU time is requested, this shows CPU
Time                                    time.  Otherwise, shows walltime

S         1                    1        The job's state.  (See listing above
                                        for default format)

Elap      5                    5        If CPU time is requested, this shows CPU
Time                                    time.  Otherwise, shows walltime.
or
Est Start                               If you use the -P option, displays
Time                                    estimated start time for queued jobs,
                                        replacing the Elap Time field with the
                                        Est Start Time field.
.fi
.SH Grouping Jobs and Sorting by ID
Trigger: the
.I -E
option.
.br
You can use the
.I -E
option to sort and group jobs in the output of
.B qstat.
The
.I -E
option groups jobs by server and displays each group by ascending ID.
This option also improves
.B qstat
performance.  The following table shows how the
.I -E
option affects the behavior of
.B qstat:

.B How qstat is Used \ \  Result Without -E \ \ \ \ \ \ \ \ \  Result With -E
.br
-----------------------------------------------------------------------
.br
qstat (no job ID     Queries the default server  No change in behavior;
.br
specified)           and displays result         same as without
.I -E
.br
                                                 option
.br
-----------------------------------------------------------------------
.br
qstat <list of job   Displays results in the     Displays results in
.br
IDs from single      order specified             ascending ID order
.br
server>
.br
-----------------------------------------------------------------------
.br
qstat <job IDs at    Displays results in the     Groups jobs by server.
.br
multiple servers>    order they are specified    Displays each group in
.br
                                                 ascending order
.br
-----------------------------------------------------------------------

.sp
.B Job Status in Custom Format
.br
The custom format allows the information displayed to be customized by
the site and/or the user.  See the CUSTOMIZED DISPLAYS section below.
(Note: At NAS, the custom format is the default.  The vendor default and
alternate formats are available by specifying the
.I -e
option twice
.IR -ee .)

.SH DISPLAYING QUEUE STATUS
.B Queue Status in Default Format
.br
Trigger: the
.I -Q
option by itself.
.br
The
.B qstat
command displays queue status in the default format if
the only option is
.I -Q.
Queue status is displayed one queue to a line, with these column headers:

.nf
Queue Max  Tot  Ena  Str Que  Run  Hld  Wat  Trn  Ext  Type
----- ---- ---- ---- --- ---- ---- ---- ---- ---- ---- ----
.fi

Description of columns:
.IP "Queue" 15
Queue name
.IP "Max" 15
Maximum number of jobs allowed to run concurrently in this queue
.IP "Tot" 15
Total number of jobs in the queue
.IP "Ena" 15
Whether the queue is
enabled
or
disabled
.IP "Str" 15
Whether the queue is
started
or
stopped
.IP "Que" 15
Number of queued jobs
.IP "Run" 15
Number of running jobs
.IP "Hld" 15
Number of held jobs
.IP "Wat" 15
Number of waiting jobs
.IP "Trn" 15
Number of jobs being moved (transiting)
.IP "Ext" 15
Number of exiting jobs
.IP "Type" 15
Type of queue: execution or routing
.sp

.LP

.B Queue Status in Long Format
.br
Trigger: the
.I -q
and
.I -f
options together.
.br
If you specify the
.I -f
(full) option with the
.I -q
option, full queue status information for each queue is displayed
starting with the queue name, followed by each attribute, one to a line,
as
.I <name> = <value>
pairs.
.sp

.B Queue Status: Alternate Format
.br
Triggers: any of the
.I -q, -G,
or
.I -M
options.
.br
The
.B qstat
command displays queue status in the alternate format if you
specify any of the
.I -q, -G,
or
.I -M
options.
Queue status is displayed one queue to a line, and the lowest line
contains totals for some columns.

These are the alternate format queue status column headers:

.nf
Queue Memory CPU Time Walltime Node Run Que Lm State
----- ------ -------- -------- ---- --- --- -- -----
.fi

Description of columns:
.IP "Queue" 15
Queue name
.IP "Memory" 15
Maximum amount of memory that can be requested by a job in this queue
.IP "CPU Time" 15
Maximum amount of CPU time that can be requested by a job in this queue
.IP "Walltime" 15
Maximum amount of walltime that can be requested by a job in this queue
.IP "Node" 15
Maximum number of vnodes that can be requested by a job in this queue
.IP "Run" 15
Number of running and suspended jobs.  Lowest row is total number of
running and suspended jobs in all the queues shown
.IP "Que" 15
Number of queued, waiting, and held jobs.  Lowest row is total number
of queued, waiting, and held jobs in all the queues shown
.IP "Lm" 15
Maximum number of jobs allowed to run concurrently in this queue
.IP "State" 15
State of this queue:
.I E
(enabled) or
.I D
(disabled),
and
.I R
(running) or
.I S
(stopped)

.sp


.SH DISPLAYING SERVER STATUS

.B Server Status in Default Format:
.br
Trigger: the
.I -B
option.
.br
The
.B qstat
command displays server status if the only option given is
.I -B.
.sp
Column headers for default server status output:

.nf
Server Max Tot Que Run Hld Wat Trn Ext Status
------ --- --- --- --- --- --- --- --- ------
.fi

Description of columns:
.IP "Server" 15
Name of server
.IP "Max" 15
Maximum number of jobs allowed to be running concurrently
on the server
.IP "Tot" 15
Total number of jobs currently managed by the server
.IP "Que" 15
Number of queued jobs
.IP "Run" 15
Number of running jobs
.IP "Hld" 15
Number of held jobs
.IP "Wat" 15
Number of waiting jobs
.IP "Trn" 15
Number of transiting jobs
.IP "Ext" 15
Number of exiting jobs
.IP "Status" 15
Status of the server
.RE

.B Server Status in Long Format
.br
Trigger: the
.I -f
option.
.br
If you specify the
.I -f
(full) option, displays full server status information
starting with the server name, followed by each server attribute,
one to a line, as
.I <name> = <value>
pairs. Includes PBS version information.
.sp

.SH CUSTOMIZED DISPLAYS
When the
.I -e
option is specified, the display of information is performed by external
TCL code, rather than by
.B qstat
itself.
This code normally resides in the
.I PBS_HOME/qstatrc
file, which, in turn, references files in
.IR PBS_EXEC/lib/qstat/ .
Sites can modify these scripts to fit local needs.
In addition, users can provide a
.I HOME/.qstatrc
file to replace or augment the system
.I PBS_HOME/qstatrc
file.
.PP
See the section on
.B "\-W OPTIONS"
for how to supply options to these custom displays.
.SH OPTIONS
.B Generic Job Status Options
.IP "-E" 10
Groups jobs by server and displays jobs sorted by ascending ID.  When
.B qstat
is presented with a list of jobs, jobs are grouped by server and each
group is displayed by ascending ID.  This option also improves
.B qstat
performance.
.LP
.B Default Job Status Options
.IP "-J" 10
Prints status information for job arrays (not subjobs).
.IP "-t" 10
Displays status information for jobs, job arrays, and subjobs.
When used with
.I -J
option, prints status information for subjobs only.

.IP "-p" 10
The
.I Time Use
column is replaced with the percentage completed for the job.  For an
array job this is the percentage of subjobs completed.  For a normal
job, it is the percentage of allocated CPU time used.

.IP "-x" 10
Displays status information for finished and moved jobs in
addition to queued and running jobs.
.LP

.B Alternate Job Status Options
.IP "-a" 10
All queued and running jobs are displayed.
If a
.I destination
is specified, information for all jobs at that
.I destination
is displayed.
If a
.I job ID
is specified, information about that job is displayed.
Always specify this option before the
.I -n
or
.I -s
options, otherwise they will not take effect.

.IP "-H" 10
Without a job identifier, displays information for all finished or moved jobs.
If a
.I job ID
is given, displays information for that job regardless of
its state.  If a
.I destination
is specified, displays information for finished or moved jobs, or
specified job(s), at
.I destination.

.IP "-i" 10
If a
.I destination
is given, information for queued, held or waiting jobs at that
.I destination
is displayed.
If a
.I job ID
is given, information about that job is displayed regardless
of its state.

.IP "-n" 10
The
.I exec_host
string is listed on the line below the basic information.
If the
.I -1
option is given, the
.I exec_host
string is listed on the end of the same line.
If using the
.I -a
option, always specify the
.I -n
option after
.I -a,
otherwise the
.I -n
option does not take effect.

.IP "-r" 10
If a
.I destination
is given, information for running or suspended jobs at that
.I destination
is displayed.
If a
.I job ID
is given, information about that job is displayed regardless of its state.

.IP "-s" 10
Any comment added by the administrator or scheduler is shown on the line below the basic information.
If the
.I -1
option is given, the comment string is listed on the end of the same line.
If using the
.I -a
option, always specify the
.I -s
option after
.I -a,
otherwise the
.I -s
option does not take effect.

.IP "-T" 10
Displays estimated start time for queued jobs, replacing the
.I Elap Time
field with the
.I Est Start Time
field.  Jobs with earlier estimated start
times are displayed before those with later estimated start times.

Running jobs are displayed before other jobs.  Running jobs are sorted
by their
.I stime
attribute (start time).

Queued jobs whose estimated start times are unset
(estimated.start_time = unset) are displayed after those with
estimated start times, with estimated start time shown as a double dash
("--").  Queued jobs with estimated start times in the past are treated
as if their estimated start times are unset.

If a job's estimated start time cannot be calculated, the start time
is shown as a question mark ("?").

Time displayed is local to the qstat command.  Current week begins on
Sunday.

The following table shows the format for the
.I Est Start Time
field when the
.I -w
option is not used:

.IP " " 10
.nf
.B Format\ \ \ \ \ \ \ \ \ Job's Estimated Start Time\ \ \ \ \ \ \ \ \ \ \ \ \ Example
-------------------------------------------------------------
<HH>:<MM>      Today                                  15:34
-------------------------------------------------------------
<2-letter      Within 7 days, but after today         We 15
weekday> <HH>
-------------------------------------------------------------
<3-letter      This calendar year, but after this     Feb
month name>    week
-------------------------------------------------------------
<YYYY>         Less than or equal to 5 years from     2018
               today, after this year
-------------------------------------------------------------
>5yrs          More than 5 years from today           >5yrs
-------------------------------------------------------------
.fi

.IP " " 10
The following table shows the format for the
.I Est Start Time
field when the
.I -w
option is used:
.IP " " 10
.nf
.B Format\ \ \ \ \ \ \ \ \ \ \ \ \ \ Job Est Start Time\ \ Example
-------------------------------------------------------------
Today <HH>:<MM>     Today               Today 13:34
-------------------------------------------------------------
<Day> <HH>:<MM>     This week, but      Wed 15:34
                    after today
-------------------------------------------------------------
<Day> <Month>       This year, but      Wed Feb 10 15:34
<Daynum> <HH>:<MM>  after this week
-------------------------------------------------------------
<Day> <Month>       After this year     Wed Feb 10 2018 15:34
<Daynum> <YYYY>
<HH>:<MM>
-------------------------------------------------------------
.fi

.IP " " 10
When used with the
.I -f
option, prints the full timezone-qualified start time.

Estimated start time information can be made unavailable to unprivileged
users; in this case, the estimated start time appears to be unset.

.IP "-u <user list>" 10
If a
.I destination
is given, status for jobs at that
.I destination
owned by users in
.I <user list>
is displayed.
If a
.I job ID
is given, status information for that job is displayed regardless of the job's
ownership.
.sp
Format:
.I <username>[@<hostname>][, <username>[@<hostname>], ...]
in comma-separated list.

Hostnames may be wildcarded, but not domain names.
When no hostname is specified, username is for any host.

.IP "-w" 10
Can be used with job status in default and alternate formats.  Allows display
of wider fields up to 120 characters.  See
.B Job Status in Default Format
and
.B Job Status in Alternate Format
for column widths.

This option is different from the
.I -w
option used with the
.I -f
long-format option.

.IP "-1 (hyphen one)" 10
Reformats
.B qstat
output to a single line.  Can be used only in conjunction with the
.I -n
and/or
.I -s
options.

.LP
.B Queue Status Options
.IP "-Q" 10
Displays queue status in default format.
Operands must be
.I destinations.
.IP "-q" 10
Displays queue status in alternate format.
Operands must be
.I destinations.

.LP
.B Server Status Options
.IP "-B" 10
Display server status.
Operands must be names of servers.

.LP
.B Job, Queue, and Server Status Options
.IP "-f [-w]" 10
Full display for long format. Job, queue or server attributes displayed one to a line.
.br
JSON output: PBS reports
.I resources_used
values for resources that are created or set in a hook as JSON strings
in the output of
.B qstat -f.

If MoM returns a JSON object (a Python dictionary), PBS reports the
value as a string in single quotes:
.br
.I resources_used.<resource_name> = '{ <mom_JSON_item_value>,
.I <mom_JSON_item_value>, <mom_JSON_item_value>, ..}'
.br
Example:  MoM returns { "a":1, "b":2, "c":1,"d": 4} for
.I resources_used.foo_str.
We get:
.br
resources_used.foo_str='{"a": 1, "b": 2, "c":1,"d": 4}'

If MoM returns a value that is
not a valid JSON object, the value is reported verbatim.
.br
Example: MoM returns "hello"  for
.I resources_used.foo_str.
We get:
.br
resources_used.foo_str="hello"

.br
Optional
.I -w
prints each attribute on one unbroken line.  Feed characters are converted:
.RS 13
Newline is converted to backslash concatenated with "n", resulting in "\\n"
.br
Form feed is converted to backslash concatenated with "f", resulting in "\\f"
.RE
.RS 10
This
.I -w
is independent of the
.I -w
job output option used with default and alternate formats.
.RE

.IP "-F dsv [-D <delimiter>]" 10

Prints output in delimiter-separated value format.  The default
.I delimiter
is a pipe ("|").  You can specify a character or a string
delimiter using the
.I -D
argument to the
.I -F dsv
option.  For example, to use a comma as the delimeter:
.RS 13
.B qstat -f -F dsv -D,
.RE
.RS 10
If the delimiter itself appears in a value, it is escaped:
.RS 3
On Linux, the delimiter is escaped with a backslash ("\\").
.br
On Windows, the delimiter is escaped with a caret ("^").
.RE
.RE
.RS 10
.sp
Feed characters are converted:
.RS 3
Newline is converted to backslash concatenated with "n", resulting in "\\n"
.br
Form feed is converted to backslash concatenated with "f", resulting in "\\f"
.RE

A newline separates each job from the next.  Using newline as the
delimiter leads to undefined behavior.

.br
Example of getting output in delimiter-separated value format:
.RS 3
.B qstat -f -Fdsv

Job Id: 1.vbox|Job_Name = STDIN|Job_Owner = root@vbox|job_state = Q|queue = workq|server = vbox|Checkpoint = u|ctime = Fri Nov 11 17:57:05 2016|Error_Path = ...
.RE
.RE

.IP "-F json" 10
Prints output in JSON format (http://www.json.org/).
Attribute output is preceded by timestamp, PBS version, and PBS server hostname.
Example:

.RS 13
.B qstat -f -F json

{
        "timestamp":1479277336,
        "pbs_version":"14.1",
        "pbs_server":"vbox",
        "Jobs":{
                "1.vbox":{
                        "Job_Name":"STDIN",
                        "Job_Owner":"root@vbox",
                        "job_state":"Q",
...

.RE

.IP "-G" 10
Shows size in gigabytes.  Triggers alternate format.
.IP "-M" 10
Shows size in megawords.  A word is considered to be 8 bytes.
Triggers alternate format.

.SH  \-W OPTIONS
The
.I \-W
option allows specifying options to the customized displays
.RI ( \-e ).
As such, the specific options depend on the custom TCL scripts installed.
However, the options have the general formats
.RS
.I "\-W name"
.br
.I "\-W name=value"
.br
.I "\-W name=[+|\-]value"
.br
.RE
where
.I name
is the name of the option.
If the option needs a value, it is specified after an equal sign `='.
Some options accept modifications to their existing values.
Those use the third format, where the equal sign is followed by
plus or minus (+, \-) to add to, or subtract from,
the current value, respectively.
.PP
The
.I \-W
option can be specified multiple times.
.PP
The following
.I \-W
options are recognized by the default custom TCL code.
.IP "backlog"
Modifies the 
.I \-W shares
option to also display the backlog for each share.
.IP "combine"
When multiple queues on different servers are specified in the destination
list, collect the jobs into one list, rather than displaying each server's
queues separately.
.IP "H"
Display long durations using hours, rather than days plus hours.
.IP "host=list"
Limit display to jobs running wholly or in part on any host in the
comma separated list of hosts provided.
The host names should be drawn from PBS's node names.
The list items are treated as re_syntax(n) patterns to match against the
host names.
.IP "me_only"
Limit display to jobs running wholly or in part on the host where
.B qstat
is run.  When run on a PBS server host, all jobs controlled
by that server are included.
.IP "shares"
Display group CPU share table (NAS only).
.IP "showsvr=\-1"
Disable display of cluster servers that normally precedes job list when
.IR \-i ,
.IR \-r ,
or
.IR \-a
is specified.
This can significantly speed up
.B qstat
when there are large number of nodes.
.IP "sumhost=['n|N[one]'|threshold][/exception]"
If the cluster contains more than
.IR threshold
hosts, the information for hosts with similar values for their
``information'' field will be summarized into one line.
The 
.IR exception 
value cancels summation for groups up to that size.
Specifying 
.IR "none" 
for
.IR threshold
cancels summation for all hosts.
.IP "sumjob=[threshold[,field_list]]"
When more than
.I threshold
jobs have the same information for the fields in the comma separated list
of fields
.IR field_list ,
then show only the first job but provide a count of similar jobs that can
be displayed by adding the
.I cnt
value to the
.I o
.I -W
option.
(
.IR "-W o=+cnt" )
The default list of fields that are compared is 
.IR "username,queue,ncpus,jobstate" .
.IP "o=[\-|+]field_list"
Selects which fields to display for each job
The
.IR field_list
is a comma separated list of field names, drawn from the following.
If the list is prefixed by `+', the fields are appended to the current field
list.
If prefixed by `-', the fields are removed from the list.
With no prefix, the list completely replaces the current list.
Field names in the list are case-insensitive.
.RS
.IP Acct
The value from the
.B qsub
.IR -A
option
.IP Aoe
The value of the aoe (application envrionment) specified for the job
.IP Cnt
The total number of similar jobs when the
.I "\-W sumjob"
option is specified
.IP Cpct
The ratio of CPU time to wall time for a running job
.IP Cput
CPU time consumed by a running job
.IP Ctime
The date and time the job was created
.IP Eff
The CPU efficiency of a running job, computed as the ratio of CPU time to
(wall time * number of CPUs requested)
.IP Elapwallt
Elapsed walltime.
For a job still in a queue, it gives how long the job has been eligible to run.
For a running job, it gives how long the job has been running.
.IP Eligtime
The total time the job has been blocked in the queue due to a resource shortage.
Waiting due to administrative limits does not accumulate eligible time.
.IP Endtime
The date and time a finished job ended
.IP EstStart
The estimated start time for a top job
.IP ExitStatus
The exit status of a finished job
.IP Group
The group the job is running under
.IP JobID
The shortened PBS job ID (see also ReqID)
.IP Jobname
The value to the
.B qsub
.IR \-N
option, if supplied.
Otherwise, a job name constructed by PBS from the script name
.IP Lifetime
How long it has been since the job was submitted
.IP Maxwallt/Minwallt
The value of the corresponding arguments from a "shrink to fit" job's
-B qsub
request
.IP Memory
For a queued job, gives the amount of memory requested, if any
For a running job, reports the amount of real memory in use
(see also Pmem, Reqmem, and Vmem)
.IP Mission
Share group the job counts against (NAS only)
.IP Model
Value for the node model the job requested
.IP Nds
Approximation for the number of nodeboards requested or allocated
.IP Place
Value of the job's
.I place
resource request
.IP Pmem
Real memory used by running job
.IP Pri
Job priority
.IP Qtime
The date and time the job was queued
.IP Queue
Queue job is in
.IP Rank0
The first node assigned to a running job
.IP ReqID
Full PBS job ID (see also JobID)
.IP Reqmem
Memory requested by job (see also Memory, Pmem, and Vmem)
.IP Remwallt
Remaining walltime for a running job
Requested walltime minus elapsed walltime
.IP Reqdwallt
Requested walltime
.IP Runs
How many times PBS has tried to start the job
.IP S
Job state (see Job Status in Default Format for interpretation)
.IP Ss
Same as S, except the letter `s' is appended for starving jobs (NAS only)
.IP SessID
The session ID for a running job (process ID of the shell on Unix)
.IP SeqNo
The JobID truncated at the first period
.IP Stime
Date and time the job started
.IP TSK
The number of CPUs requested by the job
.IP User
User name associated with job
.IP Vmem
Sum of heap maxima for processes associated with running job.
The specific value of this number is essentially meaningless.
However, if the value continuously increases during the execution of the job,
it might indicate a memory leak (see also Memory, Pmem, Reqmem)
.RE
.IP "fmt_\fIname\fP=[\fInewname\fP ]\fIoptions\fP"
Change the format used to display field
.IR name .
The various fields have default formats for how they are laid out
(field width, justification, title name, etc).
The formats can be changed on a field-by-field basis.
If
.I newname
is present, it gives new text for the field's title.
The
.I
options
are a space separated list of pairs, all of the form
.BR "\-oname ovalue" ,
where
.B \-oname
is the name of the option, and
.B ovalue
is its new value.
Note that because of the spaces, this option should be quoted to
protect it from the shell.
If the
.B ovalue 
contains spaces, the value should be enclosed in curly brackets {}.
E.g., \f(CR\-W \'fmt_jobname=\-ht {Job Name}\'\fP
.IP ""
Valid formatting options are:
.RS
.IP "\-df string"
Dash fill - the text to use to fill the field on the line
separating the title row(s) from the value rows.
The default is `\-'.  The text is repeated enough times to span the column width.
.IP "\-dj l|r"
Dash justification - `l' or `r' to left or right justify the dash fill string.
.IP "\-ds string"
Dash separator - the text to use to separate this field's dashes from those
of the field to its right.  The default is one space.
.IP "\-ht string"
Header title - another way to set the title for the column.  If the string
contains multiple space-separated words, each word will appear on a
separate line.
.IP "\-hf string"
.IP "\-hj l|r"
.IP "\-hs string"
Header fill, header justification, header separator - used similarly to the
dash options, but applied to header lines instead.
.IP "\-maxw nn"
Maximum width of field.  Longer items will be truncated on the right or left,
according to whether the item is left or right justified, resp.
.IP "\-minw nn"
Minimum width of field.  Shorter items will be padded on the right or left
using the appropriate fill string, according to whether the field is
left or right justified, resp.
.IP "\-rf string"
.IP "\-rj l|r"
.IP "\-rs string"
Row fill, row justification, row separator - used similarly to the dash
options, but applied to data rows.
.RE
.SS CPU SHARES DISPLAY
The
.IR "\-W shares"
option (NAS only) requests
.B qstat
to display information about
group CPU share use, if enabled.  For each CPU share group,
.B qstat
displays the following columns
.RS
.IP Group
Name of the group
.IP Share%
The group's share, as a percentage of total available CPUs
.IP Use%
The group's current use by running jobs, as a percentage of total CPUs available
.IP Share
The group's share, as a CPU count
.IP Exempt
How many CPUs are in use by the group's jobs running in queues that are exempt
from the CPU share limits
.IP Use
A count of CPUs in use by non-exempt jobs from the group
.IP Avail
How many CPUs are available to normal jobs from the group
.IP Borrowed
How many CPUs the group has borrowed from other groups to run short jobs.
Should equal the excess of Use over Share.
.IP Waiting
Total CPUs requested by jobs from the group still waiting in the queues.
.RE
.PP
The first line of the table (with group name "Cluster") describes the state of
the server as a whole.
Plus, jobs not associated with any specific group show up here.
.LP

.B Version Information
.IP "--version" 8
The
.B qstat
command returns its PBS version information and exits.
This option can only be used alone.


.SH  OPERANDS
.B Job Identifier Operands
.br
The
.I job ID
is assigned by PBS at submission.
Job IDs are used only with job status requests.
Status information for specified job(s) is displayed.
Formats:
.IP Job 15
.I <sequence number>[.<server>][@<server>]
.IP "Job array" 15
.I <sequence number>[][.<server>][@<server>]
.IP Subjob 15
.I <sequence number>[<index>][.<server>][@<server>]
.IP "Range of subjobs" 15
.I <sequence number>[<start>-<end>][.<server>][@<server>]
.LP
Note that some shells require that you enclose a job array identifier in
double quotes.

.RE
.LP

.B Destination Operands
.br
Name of queue, name of server, or name of queue at a specific server.
Formats:
.IP "queue name" 15
Specifies name of queue for job or queue display.
.RS 18
When displaying job status, PBS displays status for all jobs in the
specified queue at the default server.
.br
When displaying queue status, PBS displays status for the specified
queue at the default server.
.RE
.IP "queue name@server name" 15
Specifies name of queue at server for job or queue display.
.RS 18
When displaying job status, PBS displays status for all jobs in the
specified queue at the specified server.
.br
When displaying queue status, PBS displays status for the specified
queue at the specified server.
.RE
.IP "@server name" 15
Specifies server name for job or queue display.
.RS 18
When displaying job status, PBS displays status for all jobs at all
queues at the specified server.
.br
When displaying queue status, PBS displays status for all queues at
the specified server.
.RE
.IP "server name"
Specifies server name for server display.
.RS 18
When displaying server status (with the -B option) PBS displays status
for the specified server.
.RE
.LP

.SH STANDARD ERROR
The
.B qstat
command writes a diagnostic message to standard error for
each error occurrence.

.SH EXIT STATUS
.IP Zero 15
Upon successful processing of all operands
.IP "Greater than zero" 15
If any operands could not be processed

.SH SEE ALSO
The
.I PBS User's Guide,
the
.I PBS Administrator's Guide,
.br
qalter(1B), qsub(1B), pbs_alterjob(3B), pbs_statjob(3B), pbs_statque(3B),
pbs_statserver(3B), pbs_submit(3B),
pbs_job_attributes(7B), pbs_queue_attributes(7B), pbs_server_attributes(7B),
pbs_resources(7B)
